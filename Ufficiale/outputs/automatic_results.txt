

Tested on: 2026/02/03 20:40:36
Query IDs: [3, 6, 9, 13, 18, 22]

LLM used: qwen3:4b
Embedder used: qwen3-embedding:0.6b
Filter limit: K = 5

Auto-queries:
	('NAMES', 'init')
	('LABELS', 'init')
	('OBJECT PROPERTIES', 'filter', None, 3)
	('RELATIONSHIPS VISUAL', 'init', 3)

Examples:
	Which are the roles of the employees?
	MATCH (e:Employee) RETURN e.name, e.role

	Which are the names of John's friends?
	MATCH (f)-[:FRIEND]->(j:Person {name: 'John'}) RETURN f.name

	Is there any user with age 38?
	MATCH (u:User) WHERE u.age = 38 RETURN COUNT(u) > 0 AS user_exists

	Which rooms in the 4th floor are currently occupied?
	MATCH (r:Room)-[:LOCATED_ON]->(f:Floor{name: '4th'}) WHERE r.state = ['occupied'] RETURN r.name


Instructions Prompt

You are an expert Cypher generator: your task is to generate Cypher query that best answers the user question.

Follow these guidelines:
    1. Write ONLY a syntactically correct Cypher query: NOTHING ELSE. 
    2. DO NOT invent properties: read the database schema.
    3. Use ONLY the relationships in the database.    
    4. Write the queries according to the schema 
    5. Keep the queries simple, readable and deterministic.
    6. Try to require also the names of entities
    
    

Answer Prompt

You are a helpful smart assistant.
You'll receive the outputs of the query, written in Cypher language: explain these outputs in a natural way.
Don't mention Neo4j explicitly: describe the results in natual way. 
Please, be synthetic: read the outputs and explain them by answering to the user question.  
    

##########

1) Query ID: 3

User Query:
How bright is Lamp 1? (ID: 3)

Generated Cypher query:
MATCH (l:Light {name: 'Lamp_1'}) RETURN l.setting

Neo4j outputs:
[{'l.setting': [20]}]

Generated Answer:
Lamp 1 is currently set to a brightness level of 20.

Expected answer:
Lamp 1 is set to 20% brightness.

#########################

2) Query ID: 6

User Query:
Are there any occupancy sensors active? (ID: 6)

Generated Cypher query:
MATCH (s:Occupancy_sensor) WHERE s.value[0] = true RETURN COUNT(s) > 0

Neo4j outputs:
[{'COUNT(s) > 0': True}]

Generated Answer:
Yes, there is at least one active occupancy sensor in the system.

Expected answer:
Occupancy sensor 3 and Occupancy sensor 4 are currently active.

#########################

3) Query ID: 9

User Query:
Check the temperature setting of air conditioners. (ID: 9)

Generated Cypher query:
MATCH (ac:Air_conditioner) RETURN ac.name, ac.setting

Neo4j outputs:
[{'ac.name': 'Air_conditioner_1', 'ac.setting': [20]}, {'ac.name': 'Air_conditioner_2', 'ac.setting': [16]}]

Generated Answer:
The air conditioners currently have the following temperature settings: Air_conditioner_1 is set to 20 degrees, and Air_conditioner_2 is set to 16 degrees.

Expected answer:
Air conditioner 1 is set to 20°C, and Air conditioner 2 is set to 16°C.

#########################

4) Query ID: 13

User Query:
Check if the washing machine is running. (ID: 13)

Generated Cypher query:
MATCH (wm:Washing_machine {name: "Washing_machine_1"}) RETURN wm.state = ["on"] AS is_running

Neo4j outputs:
[{'is_running': True}]

Generated Answer:
The washing machine is currently running.

Expected answer:
The washing machine is currently on.

#########################

5) Query ID: 18

User Query:
What are the settings of all settable devices? (ID: 18)

Generated Cypher query:
MATCH (d:Settable_device) RETURN d.name, d.value

Neo4j outputs:
[{'d.name': 'Air_conditioner_1', 'd.value': None}, {'d.name': 'Air_conditioner_2', 'd.value': None}, {'d.name': 'Ceiling_light_1', 'd.value': None}, {'d.name': 'Oven_1', 'd.value': None}, {'d.name': 'Lamp_1', 'd.value': None}, {'d.name': 'Lamp_2', 'd.value': None}]

Generated Answer:
The system shows that there are six settable devices available: Air Conditioner 1, Air Conditioner 2, Ceiling Light 1, Oven 1, Lamp 1, and Lamp 2. However, none of these devices currently have any configured settings—meaning their values are not set or initialized in the system. This suggests that while these devices are capable of being adjusted, no active settings have been defined for them yet.

Expected answer:
Ceiling light 1: 20%, Lamp 1: 20%, Lamp 2: 50%, Air conditioner 1: 20°C, Air conditioner 2: 16°C, Oven 1: 180°C.

#########################

6) Query ID: 22

User Query:
List all appliances in the kitchen. (ID: 22)

Generated Cypher query:
MATCH (a:Appliance)-[:LOCATED_IN]->(r:Room {name: 'Kitchen'}) RETURN a.name

Neo4j outputs:
[{'a.name': 'Coffee_machine_1'}, {'a.name': 'Oven_1'}]

Generated Answer:
The kitchen currently contains two appliances: a Coffee Machine named *Coffee_machine_1* and an Oven named *Oven_1*.

Expected answer:
Appliances in the kitchen include Coffee machine 1 and Oven 1.

#########################
