

Tested on: 2026/02/04 16:50:52
Query IDs: [1, (3, 5), 38]

LLM used: llama3.1:latest
Embedder used: qwen3-embedding:0.6b
Filter limit: K = 5

Auto-queries:
	('NAMES', 'init')
	('LABELS', 'init')
	('OBJECT PROPERTIES', 'filter', None, 3)
	('RELATIONSHIPS VISUAL', 'init', 10)

Examples:
	Which are the roles of the employees?
	MATCH (e:Employee) RETURN e.name, e.role

	Which are the names of John's friends?
	MATCH (f)-[:FRIEND]->(j:Person {name: 'John'}) RETURN f.name

	Is there any user with age 38?
	MATCH (u:User) WHERE u.age = 38 RETURN COUNT(u) > 0 AS user_exists

	Which rooms in the 4th floor are currently occupied?
	MATCH (r:Room)-[:LOCATED_ON]->(f:Floor{name: '4th'}) WHERE r.state = ['occupied'] RETURN r.name


Instructions Prompt

You are an expert Cypher generator: your task is to generate Cypher query that best answers the user question.

Follow these guidelines:
    1. Write ONLY a syntactically correct Cypher query: NOTHING ELSE. 
    2. DO NOT invent properties: read the database schema.
    3. Use ONLY the relationships in the database.    
    4. Write the queries according to the schema 
    5. Keep the queries simple, readable and deterministic.
    6. Try to require also the names of entities
    
    

Answer Prompt

You are a helpful smart assistant.
You'll receive the outputs of the query, written in Cypher language: explain these outputs in a natural way.
Don't mention Neo4j explicitly: describe the results in natual way. 
Please, be synthetic: read the outputs and explain them by answering to the user question.  
    

##########

1) Query ID: 1

User Query:
Is the coffee machine on? (ID: 1)

Generated Cypher query:
MATCH (cm:Coffee_machine {name: "Coffee_machine_1"})-[:LOCATED_IN]->(n) MATCH (n)<-[r]-(s:Boolean_sensor) WHERE s.value = true AND cm.state = ['on'] RETURN count(*) > 0 AS is_on

Neo4j outputs:
[{'is_on': False}]

Generated Answer:
The coffee machine is currently turned off. It's not brewing any coffee right now.

Expected answer:
The coffee machine is currently off.

#########################

2) Query ID: 3

User Query:
How bright is Lamp 1? (ID: 3)

Generated Cypher query:
MATCH (l:Lamp {name: "Lamp_1"})-[:LOCATED_IN]->(n:NamedIndividual)-[:HAS]->(s:Brightness_sensor) RETURN s.setting AS brightness

Neo4j outputs:
[]

Generated Answer:
It looks like there's no information about the brightness of Lamp 1. The result is empty, which means that we don't have any data about the brightness of that lamp. It's possible that it hasn't been measured or recorded yet.

Expected answer:
Lamp 1 is set to 20% brightness.

#########################

3) Query ID: 4

User Query:
What is the value on the temperature sensor? (ID: 4)

Generated Cypher query:
MATCH (t:Temperature_sensor {name: "Temperature_sensor_1"}) RETURN t.value

Neo4j outputs:
[{'t.value': [20]}]

Generated Answer:
The current temperature reading is 20 degrees. The temperature sensor is currently reporting a value of 20.

Expected answer:
The temperature sensor reads 20Â°C.

#########################

4) Query ID: 5

User Query:
Is the smoke sensor detecting smoke? (ID: 5)

Generated Cypher query:
MATCH (s:Smoke_sensor {name: "Smoke_sensor_1"})-[:LOCATED_IN]->(r) WITH s, r MATCH (s)<-[d:DETECTS]-(v) WHERE v.value = true RETURN d IS NOT NULL AS is_detecting_smoke

Neo4j outputs:
[]

Generated Answer:
It looks like the smoke sensor is not currently detecting any smoke. The result is empty, which means there's no data to indicate that it has detected smoke. So, the answer is no, the smoke sensor is not detecting smoke at this time.

Expected answer:
The smoke sensor is currently detecting smoke.

#########################

5) Query ID: 38

User Query:
Is there anyone in the living room? (ID: 38)

Generated Cypher query:
MATCH (s:Occupancy_sensor {name: "Occupancy_sensor_1"})-[:LOCATED_IN]->(r:Room {name: "Living_room"}) WHERE s.value = [true] RETURN COUNT(s) > 0 AS is_occupied

Neo4j outputs:
[{'is_occupied': False}]

Generated Answer:
The living room is currently empty. There's no one inside. It's unoccupied.

Expected answer:
No, the occupancy sensor in the living room does not detect presence.

#########################
