

Tested on: 2026/02/05 21:04:14
Query IDs: [3, 6, 9, 13, 18, 22]

LLM used: qwen3:4b
Embedder used: qwen3-embedding:0.6b
Filter limit: K = 5

Auto-queries:
	('LABELS', 'init')
	('NAMES', 'init')
	('OBJECT PROPERTIES', 'filter', None, 3, True)
	('RELATIONSHIPS VISUAL', 'init', 10)

Examples:
	Which are the roles of the employees?
	MATCH (e:Employee) RETURN e.name, e.role

	Which are the names of John's friends?
	MATCH (f)-[:FRIEND]->(j:Person {name: 'John'}) RETURN f.name

	Is there any user with age 38?
	MATCH (u:User) WHERE u.age = 38 RETURN COUNT(u) > 0 AS user_exists

	Which rooms in the 4th floor are currently occupied?
	MATCH (r:Room)-[:LOCATED_ON]->(f:Floor{name: '4th'}) WHERE r.state = ['occupied'] RETURN r.name


Instructions Prompt

You are an expert Cypher generator: your task is to generate Cypher query that best answers the user question.

Follow these guidelines:
    1. Write ONLY a syntactically correct Cypher query: NOTHING ELSE. 
    2. DO NOT invent properties: read the database schema.
    3. Use ONLY the relationships in the database.    
    4. Write the queries according to the schema 
    5. Keep the queries simple, readable and deterministic.
    6. Try to require also the names of entities
    
    

Answer Prompt

You are a helpful smart assistant.
You'll receive the outputs of the query, written in Cypher language: explain these outputs in a natural way.
Don't mention Neo4j explicitly: describe the results in natual way. 
Please, be synthetic: read the outputs and explain them by answering to the user question.  
    

##########

1) Query ID: 3

User Query:
How bright is Lamp 1? (ID: 3)

Generated Cypher query:


MATCH (l:Dimmable_light {name: 'Lamp_1'}) RETURN l.setting

Neo4j outputs:
[{'l.setting': [20]}]

Generated Answer:


The brightness setting for Lamp 1 is currently at 20. This value represents the specific brightness level configured for the lamp in your system.

Expected answer:
Lamp 1 is set to 20% brightness.

#########################

2) Query ID: 6

User Query:
Are there any occupancy sensors active? (ID: 6)

Generated Cypher query:


MATCH (s:Occupancy_sensor) WHERE s.value = [true] RETURN COUNT(s) > 0 AS active

Neo4j outputs:
[{'active': True}]

Generated Answer:


The result indicates that there is at least one occupancy sensor that is currently active in the system. This means the answer to your question is **yes**—there exists at least one active occupancy sensor.

Expected answer:
Occupancy sensor 3 and Occupancy sensor 4 are currently active.

#########################

3) Query ID: 9

User Query:
Check the temperature setting of air conditioners. (ID: 9)

Generated Cypher query:


MATCH (ac:Air_conditioner) RETURN ac.name, ac.setting, ac.unit

Neo4j outputs:
[{'ac.name': 'Air_conditioner_1', 'ac.setting': [20], 'ac.unit': ['C']}, {'ac.name': 'Air_conditioner_2', 'ac.setting': [16], 'ac.unit': ['C']}]

Generated Answer:


Here are the current temperature settings for the air conditioners:  
- **Air_conditioner_1** is set to **20°C**  
- **Air_conditioner_2** is set to **16°C**  

This shows the exact temperature values (in Celsius) configured for each unit.

Expected answer:
Air conditioner 1 is set to 20°C, and Air conditioner 2 is set to 16°C.

#########################

4) Query ID: 13

User Query:
Check if the washing machine is running. (ID: 13)

Generated Cypher query:


MATCH (wm:Washing_machine) WHERE wm.state = ["on"] RETURN wm.name

Neo4j outputs:
[{'wm.name': 'Washing_machine_1'}]

Generated Answer:


The system found that the washing machine named "Washing_machine_1" is currently running. So the answer to your question is yes.

Expected answer:
The washing machine is currently on.

#########################

5) Query ID: 18

User Query:
What are the settings of all settable devices? (ID: 18)

Generated Cypher query:


MATCH (s:Settable_device) RETURN s.name, s.value

Neo4j outputs:
[{'s.name': 'Ceiling_light_1', 's.value': None}, {'s.name': 'Lamp_1', 's.value': None}, {'s.name': 'Lamp_2', 's.value': None}, {'s.name': 'Oven_1', 's.value': None}, {'s.name': 'Air_conditioner_1', 's.value': None}, {'s.name': 'Air_conditioner_2', 's.value': None}]

Generated Answer:


The system shows that there are six settable devices: Ceiling_light_1, Lamp_1, Lamp_2, Oven_1, Air_conditioner_1, and Air_conditioner_2. However, none of these devices currently have any settings configured (all values are empty). This means the current state of these devices is unconfigured or not yet set.

Expected answer:
Ceiling light 1: 20%, Lamp 1: 20%, Lamp 2: 50%, Air conditioner 1: 20°C, Air conditioner 2: 16°C, Oven 1: 180°C.

#########################

6) Query ID: 22

User Query:
List all appliances in the kitchen. (ID: 22)

Generated Cypher query:


MATCH (r:Room {name: 'Kitchen'})<-[:LOCATED_IN]-(a:Washing_machine | a:Air_conditioner) RETURN a.name

Neo4j outputs:
[]

Generated Answer:


Based on the current data, there are no appliances listed in the kitchen.

Expected answer:
Appliances in the kitchen include Coffee machine 1 and Oven 1.

#########################
